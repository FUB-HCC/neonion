{% extends "base.html" %}

{% load staticfiles %}

{% block title %}Ãœbersicht{% endblock %}

{% block content %}
<div class="bg bg-20"></div>

<div class="units-row end">
    <div class="unit-20 overview-nav">
        <div class="units-row">
            <hgroup>
                <h1>NEONION</h1>
                <h3 class="subheading">rethinking Annotation</h3>
            </hgroup>
        </div>
    </div>

    <div class="unit-80">
        <p class="input-groups">
            <input type="text" name="go" placeholder="Search" />
            <span class="btn-append">
                <button class="btn btn-green">Search</button>
            </span>
        </p>
    </div>

</div>

<div class="units-row">

    <div class="unit-20">
        <nav class="nav">
            <ul>
                <li><a href="/annotator">My Neonion</a></li>
                <li><span>Annotate</span></li>
                <li><span>Analyze</span></li>
                <li><span>Profile</span></li>
                <li><span>Settings</span></li>
            </ul>
        </nav>
    </div>

    <div class="unit-80">
        <table id="document-table" class="table-simple"></table>
    </div>

</div>
{% endblock %}


{% block scripts %}
    <script language="javascript">

    $(document).ready(function() {
        loadDocumentList(config);
    });

    function loadDocumentList(config) {
      // load document from loomp
        jQuery.ajax(
        {
            url: config.server + config.service.getAll + "?type=" + config.uri.elementText,
            type: 'GET',
            crossDomain: true,
            dataType: 'json'
        }
        ).done(function(response) {
            response.forEach(function(entry) {
                var uri = entry.uri.split("/")
                var id = uri[uri.length-1]
                var element = $('<tr><td><a href="/annotator/' + id + '">' + entry.title + '</a><div class="document-list-buttons">[info] [delete]</div></td></tr>');
                $("#document-table").append(element);
            });

        });


    }

    </script>
{% endblock %}